<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PÁGINA LOGEO MERCADONA</title>
    <style>
        body {
            font-family: Calibri;
        }

        .tablaLogin {
            background-color: #ffad33;
            border: #cc5100 1px solid;
            border-collapse: collapse;
            margin: 1px;
            width: 50%;
        }

        .required {
            height: 16px;
            width: 90%;
        }

        .botones {
            border: 2px solid #008000;
            font-weight: bold;
        }

        #formLogin .error {
            color: red;
        }

        #formLogin .valid {
            color: #008000;
        }
    </style>
    <script src="\Scripts\jquery-2.1.4.js"></script>
    <script src="\Scripts\jquery.validate.js"></script>
</head>
<body>

    <div id="cabecera">
        <table style="width: 100%">
            <tr>
                <td>
                    <img src="\imagenes\cabeceraLogin.PNG" alt="" />
                </td>
            </tr>
        </table>
    </div>
    <div id="contenido">
        <table style="width:100%">
            <tr>
                <td>
                    <a style="color:black; font-weight:bold" href="Vista_Registro.html">Registrarse como cliente </a>
                </td>
                <td rowspan="3">
                    <form id="formLogin">
                        <table class="tablaLogin">
                            <tr>
                                <td colspan="2"></td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="textBoxUsuario">Email/Usuario de acceso:<span>(Campo obligatorio)</span></label>
                                </td>
                                <td>
                                    <input id="textBoxUsuario" name="textBoxUsuario" type="email" />
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <label for="textBoxPass">Contraseña:<span>(Campo obligatorio)</span></label>

                                </td>
                                <td>
                                    <input id="textBoxPass" name="textBoxPass" type="password" />
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td style="text-align:right">
                                    <input class="botones" id="buttonEntrar" name="buttonEntrar" type="button" value="Entrar" />
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td style="text-align:right">
                                    <input class="botones" id="buttonPassOlvidada" name="buttonPassOlvidada" type="button" value="¿Ha olvidado el usuario la contraseña?" />
                                </td>
                            </tr>
                        </table>
                    </form>
                </td>
            </tr>
            <tr>
                <td>

                    <a style="color:black; font-weight:bold" href="Vista_Registro.html">Cliente registrado</a>
                </td>
            </tr>
            <tr>
                <td>
                    <a style="color:black; font-weight:bold" href="Vista_Registro.html">Condiciones generales de compra </a>
                </td>
            </tr>
        </table>
    </div>

    <script>
        var form = $("#formLogin");

        form.validate({
            debug: true,
            success: function (label) {
                label.addClass("valid").text("Ok!")
            },
            onkeyup: false,

            rules: {
                textBoxUsuario: {
                    required: true,
                    email: true,
                },
                textBoxPass: {
                    required: true,
                    minlength: 8,
                }
            },
            messages: {

                textBoxUsuario: {
                    required: "Campo obligatorio",
                    email: "Formato incorrecto"
                },

                textBoxPass: {
                    required: "Campo obligatorio",
                    minlength: function (p, element) {
                        return "Minimo " + p + "caracteres";
                    }

                }

            }
        })

        $("#buttonEntrar").click(function (e) {
            //form.valid() ? window.alert("La validacion es true?=>" + form.valid()) : window.alert("La validacion es false?=>" + form.valid())
            e.preventDefault();
            var usuJSON = {
                Login : $("#textBoxUsuario").val(),
                Password: $("#textBoxPass").val()
            }

            //var json = JSON.stringify(usuJSON);

            $.post("ServidorLogin.aspx", usuJSON, function (resp) {
                console.log(resp);
            })
        });




    </script>
</body>
</html>
